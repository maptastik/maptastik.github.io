<!DOCTYPE html>
<html>
<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++-->
<head>
<meta charset=utf-8 />
<title>Leaflet Test</title>
<!--LIBRARIES & EXTERNAL SHIT-->
  <!--INCLUDE LEAFLET CSS-->
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" />
  <!--INCLUDE LEAFLEET JS FILE-->
  <script src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js"></script>
  <!--INCLUDE jQUERY-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <!--INCLUDE jQUERY-UI-->
  <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.css" />
  <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>

<!--CREATES TABS-->
<script>
  //sets navigation tabs
  //consider vertical stack...back to accordion?
  $(function() {
    $( "#tabs" ).tabs({
      collapsible: true,
      selected: 0
    });
  });
</script>

<!--CSS-->
  <style>

  /*BODY STYLE*/
  body { 
    margin:0; 
    padding:0; 
  }
  /*MAP STYLE*/
    #dope-map { 
    position:absolute; 
    top:0; bottom:0;
    width:100%
  }

  /*TAB STYLE*/
  #tabs {
    position:fixed;
    bottom: 0;
    width: 100%;
    z-index:100;
    color: black;
    text-decoration:underline;
  }
    tabs-buttons .ui-tabs-nav { 
      padding: 0em; 
      background: transparent; 
      border-width: 0px;
      background-image: none;  
    }

    tabs-buttons .ui-tabs-nav li { 
        position: static; 
        margin: 0px;
        border-bottom: 1px solid #327e04 !important; 
        -moz-border-radius: 0px; 
        -webkit-border-radius: 0px; 
        border-radius: 0px; 
    } 
    tabs-buttons .ui-tabs-nav li:first-child { 
        -moz-border-radius: 6px 0px 0px 6px; 
        -webkit-border-radius: 6px 0px 0px 6px; 
        border-radius: 6px 0px 0px 6px; 
    } 
    tabs-buttons .ui-tabs-nav li:last-child { 
        -moz-border-radius: 0px 6px 6px 0px; 
        -webkit-border-radius: 0px 6px 6px 0px; 
        border-radius: 0px 6px 6px 0px; 
    } 
    tabs-buttons .ui-tabs-nav li.ui-tabs-selected { 
        padding-bottom: 0px; 
        border-bottom: 1px solid #d4ccb0 !important; 
    }

  </style>
</head>
<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++-->
<body>
<!--DIV CONTAINER FOR MAP-->
  <div id="dope-map"></div>

<!--nav tabs-->
<div id="tabs">
  <ul>
    <li><a href="#tabs-1" style="background-color:#4daf4a">CONFERENCE</a></li>
    <li><a href="#tabs-2" style="background-color:#e41a1c">RESTAURANT</a></li>
    <li><a href="#tabs-3" style="background-color:#377eb8">BAR</a></li>
    <li><a href="#tabs-4" style="background-color:#984ea3">COFFEE</a></li>
    <li><a href="#tabs-5" style="background-color:#ff7f00">LODGING</a></li>
    <li><a href="#tabs-6" style="background-color:#ffff33">OTHER</a></li>
  </ul>
  <div id="tabs-1">
    <p>Gaines Center</p>
    <p>Memorial Hall</p>
    <p>Student Center</p>
    <p>etc</p>
  </div>
  <div id="tabs-2">
    <p>Bourbon n' Toulouse</p>
    <p>The Local Taco</p>
    <p>Tolly-Ho</p>
    <p>etc</p>
  </div>
  <div id="tabs-3">
    <p>Al's Bar</p>
    <p>Tin Roof</p>
    <p>West 6th</p>
    <p>etc</p>
  </div>
  <div id="tabs-4">
    <p>Coffea</p>
    <p>Common Grounds</p>
    <p>North Lime Coffee and Donuts</p>
    <p>etc</p>
  </div>
  <div id="tabs-5">
    <p>Gratz Park Inn</p>
    <p>Holiday Inn Express</p>
    <p>Spring Hill Suites</p>
    <p>etc</p>
  </div>
  <div id="tabs-6">
    <p>Blue Grass Airport</p>
    <p>Johnny Print</p>
    <p>etc</p>
  </div>
</div>

<!--SCRIPTS-->
  <script>
    //TILES AS A VARIABLE
    var tiles = L.tileLayer('http://{s}.tile.stamen.com/toner/{z}/{x}/{y}.jpg', {
    attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>.</a>',
    maxZoom: 18
    });

    //STYLE MARKERS
    var geojsonMarkerOptions = {
      radius: 8,
      color: "#000",
      weight: 1,
      opacity: 1,
      fillOpacity: 0.8
    };

    //GET geoJSON USING jQUERY FUNCTION AND MAP IT
     $.getJSON("./dope-places.geojson", function(data) {
      var geojson = L.geoJson(data, {
        onEachFeature: function (feature, layer) {
          layer.bindPopup(feature.properties.Name + "<br>" + feature.properties.Add);
        },
        pointToLayer: function (feature, latlng) {
          return L.circleMarker(latlng, geojsonMarkerOptions);
        },
        style: function(feature) {
            switch (feature.properties.Type) {
                case 'Conference Location': return {color: "#4daf4a"}; //GREEN
                case 'Restaurant':   return {color: "#e41a1c"}; //RED
                case 'Bar': return {color: "#377eb8"}; //BLUE
                case 'Coffee':   return {color: "#984ea3"}; //PURPLE
                case 'Lodging': return {color: "#ff7f00"}; //ORANGE
                case 'Other':   return {color: "#ffff33"}; //YELLOW
                ;
              }
        }
      });

      //DRAW MAP IN DIV WITH BOUNDS, TILES, AND geoJSON
       var map = L.map('dope-map').fitBounds(geojson.getBounds());
        tiles.addTo(map);
        geojson.addTo(map);
        });
  </script>
</body>
<!--+++++++++++++++++++++++++++++++++++++++++++++++++++++-->
</html>
